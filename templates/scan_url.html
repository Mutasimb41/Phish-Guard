{% extends "base.html" %}

{% block content %}
<div class="container py-5" style="max-width:640px;" data-aos="fade-left">

  <!-- Page Heading -->
  <h3 class="mb-4">URL&nbsp;Phishing&nbsp;Scanner</h3>

  <!-- URL Input -->
  <div class="form-floating">
    <input id="urlInput"
           type="text"
           class="form-control"
           placeholder="www.example.com/login"
           required>
    <label for="urlInput" class="fw-bold">Paste a URL</label>
  </div>

  <!-- Scan Button -->
  <button id="scanUrlBtn"
          class="btn btn-primary mt-3"
          disabled>
    <span id="urlBusy"
          class="spinner-border spinner-border-sm me-2 d-none"
          role="status"></span>
    <i class="bi bi-search me-1"></i> Scan
  </button>

  <!-- Result Display -->
  <div id="urlResult"
       class="card border-0 shadow-sm mt-4 d-none"
       data-aos="zoom-in">
    <div class="card-body text-center">

      <!-- Verdict -->
      <h5 id="urlVerdict" class="card-title"></h5>

      <!-- Confidence Gauge -->
      <canvas id="urlGauge"
              width="220"
              height="220"
              class="my-3 mx-auto d-block"></canvas>

      <!-- Confidence Value -->
      <p id="urlConf" class="fw-semibold mb-0"></p>

      <!-- Why it was flagged (only for phishing) -->
      <div id="urlWhy" class="d-none mt-3">
        <h6 class="fw-bold mb-2">Why it was flagged</h6>
        <ul id="urlTokenList" class="list-unstyled small mb-0"></ul>
      </div>

    </div>
  </div>

</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/url.js') }}"></script>
{% endblock %}
